import{j as e}from"./index.THfbTAEd.js";import{r as s}from"./react-vendor.Ch73U9R9.js";import{a as t,b as r,L as a}from"./router.CwNFQj8M.js";import{g as o,a as l}from"./api.RS2kEV8Q.js";import{u as i,a as n,B as d}from"./AdManager.BQch2mMg.js";import{C as c,S as m}from"./icons.C9tkmgjG.js";import"./api.D1v8Vdlc.js";function u(){const{id:u}=t(),[p,b]=r(),[v,x]=s.useState(null),[g,h]=s.useState([]),[f,j]=s.useState(1),[y,N]=s.useState(1),[w,$]=s.useState(""),[S,I]=s.useState("embedder");i({siteId:5277720,popundersPerIP:"20,10"}),n("8c9e42c8b9fb4376ad91c9351c4dd1e4");const C=p.get("type")||"movie";s.useEffect((()=>{"tv"===C&&u&&o(parseInt(u)).then(x)}),[u,C]),s.useEffect((()=>{"tv"===C&&u&&l(parseInt(u),f).then((e=>h(e.episodes)))}),[u,f,C]),s.useEffect((()=>{const e=p.get("season"),s=p.get("episode");e&&j(parseInt(e)),s&&N(parseInt(s))}),[p]);const E=g.filter((e=>e.name.toLowerCase().includes(w.toLowerCase())));return e.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-purple-900/20 to-blue-900/20 rounded-xl border border-gray-800 backdrop-blur-sm",children:e.jsx(d,{})}),e.jsxs(a,{to:"/",className:"inline-flex items-center text-blue-500 hover:text-blue-400 mb-8",children:[e.jsx(c,{className:"w-5 h-5 mr-2"}),"Back to Search"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["movie"===C?"Movie":"TV Show"," Player"]}),e.jsxs("select",{value:S,onChange:e=>I(e.target.value),className:"bg-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"embedder",children:"Embedder"}),e.jsx("option",{value:"ultraembed",children:"UltraEmbed"}),e.jsx("option",{value:"vidIngles",children:"VidIngles"}),e.jsx("option",{value:"vidPremium",children:"VidPremium"})]})]}),e.jsx("div",{className:"aspect-video bg-black rounded-xl overflow-hidden",children:e.jsx("iframe",{src:(()=>{switch(S){case"embedder":return"movie"===C?`https://embedder.net/e/movie?tmdb=${u}`:`https://embedder.net/e/series?tmdb=${u}&sea=${f}&epi=${y}`;case"ultraembed":return"movie"===C?`https://ultraembed.com/filme/${u}`:`https://ultraembed.com/serie/${u}/${f}/${y}`;case"vidIngles":return"movie"===C?`https://vidsrc.xyz/embed/movie/${u}`:`https://vidsrc.xyz/embed/tv?imdb=${u}&season=${f}&episode=${y}`;case"vidPremium":return"movie"===C?`https://vidsrc.dev/embed/movie/${u}`:`https://vidsrc.dev/embed/tv/${u}/${f}/${y}`;default:return""}})(),className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})})]}),"tv"===C&&e.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4",children:[v?.name," - Episodes"]}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx("select",{value:f,onChange:e=>{const s=parseInt(e.target.value);j(s),b({type:"tv",season:s.toString(),episode:"1"})},className:"bg-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:v?.seasons.map((s=>e.jsxs("option",{value:s.season_number,children:["Season ",s.season_number]},s.id)))}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search episodes...",value:w,onChange:e=>$(e.target.value),className:"w-full bg-gray-700 rounded-lg pl-10 pr-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:E.map((s=>e.jsxs("button",{onClick:()=>{N(s.episode_number),b({type:"tv",season:f.toString(),episode:s.episode_number.toString()})},className:"w-full text-left p-4 rounded-lg transition-colors "+(y===s.episode_number?"bg-blue-600":"bg-gray-700 hover:bg-gray-600"),children:[e.jsxs("div",{className:"font-semibold",children:["Episode ",s.episode_number,": ",s.name]}),e.jsx("div",{className:"text-sm text-gray-400 mt-1 line-clamp-2",children:s.overview})]},s.id)))})]})]})]})})}export{u as default};
